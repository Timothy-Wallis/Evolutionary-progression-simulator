/*
	General stylesheet for a science application UI
	- Clean, accessible base styles
	- Themeable via CSS variables (light/dark)
	- Buttons, forms, tables, cards, utilities
*/

/* Theme variables */
:root {
	/* Typography */
	--font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
	--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

	/* Layout */
	--radius: 8px;
	--radius-sm: 6px;
	--radius-lg: 12px;
	--space-1: 4px;
	--space-2: 8px;
	--space-3: 12px;
	--space-4: 16px;
	--space-5: 24px;
	--space-6: 32px;

	/* Colors (light) */
	--color-bg: #f8fafc;         /* slate-50 */
	--color-surface: #ffffff;
	--color-surface-alt: #f1f5f9; /* slate-100 */
	--color-text: #0f172a;        /* slate-900 */
	--color-muted: #475569;       /* slate-600 */
	--color-border: #e2e8f0;      /* slate-200 */

	--color-primary: #2b8cbe;     /* science blue */
	--color-secondary: #0ea5a3;   /* teal */
	--color-success: #22c55e;     /* green */
	--color-warning: #f59e0b;     /* amber */
	--color-danger:  #ef4444;     /* red */
	--color-focus:   #2563eb;     /* blue-600 */

	/* Shadows */
	--shadow-sm: 0 1px 2px rgba(0,0,0,0.06);
	--shadow-md: 0 4px 12px rgba(0,0,0,0.10);
	--shadow-lg: 0 10px 24px rgba(0,0,0,0.14);

	/* Chart palette (for scientific visuals) */
	--chart-1: #2b8cbe;
	--chart-2: #a6cee3;
	--chart-3: #33a02c;
	--chart-4: #fb9a99;
	--chart-5: #e31a1c;
	--chart-6: #fdbf6f;
	--chart-7: #cab2d6;
	--chart-8: #1f78b4;
}

/* Dark theme overrides */
[data-theme="dark"] {
	--color-bg: #0b1020;          /* deep navy */
	--color-surface: #121a2a;     /* dark panel */
	--color-surface-alt: #182235; 
	--color-text: #e5e7eb;        /* slate-200 */
	--color-muted: #94a3b8;       /* slate-400 */
	--color-border: #22304a;      

	--color-primary: #38bdf8;     /* sky */
	--color-secondary: #2dd4bf;   /* teal light */
	--color-success: #22c55e;
	--color-warning: #f59e0b;
	--color-danger:  #f87171;
	--color-focus:   #93c5fd;     /* focus ring */

	--shadow-sm: 0 1px 2px rgba(0,0,0,0.35);
	--shadow-md: 0 4px 16px rgba(0,0,0,0.45);
	--shadow-lg: 0 12px 28px rgba(0,0,0,0.55);
}

/* Respect system preference when no explicit data-theme is set */
@media (prefers-color-scheme: dark) {
	:root:not([data-theme]) {
		--color-bg: #0b1020;
		--color-surface: #121a2a;
		--color-surface-alt: #182235;
		--color-text: #e5e7eb;
		--color-muted: #94a3b8;
		--color-border: #22304a;
		--color-primary: #38bdf8;
		--color-secondary: #2dd4bf;
		--color-success: #22c55e;
		--color-warning: #f59e0b;
		--color-danger:  #f87171;
		--color-focus:   #93c5fd;
		--shadow-sm: 0 1px 2px rgba(0,0,0,0.35);
		--shadow-md: 0 4px 16px rgba(0,0,0,0.45);
		--shadow-lg: 0 12px 28px rgba(0,0,0,0.55);
	}
}

/* Base reset */
*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; }
body {
	margin: 0;
	background: var(--color-bg);
	color: var(--color-text);
	font-family: var(--font-sans);
	line-height: 1.5;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}
img, svg, video, canvas, audio { display: block; max-width: 100%; }
code, pre, kbd, samp { font-family: var(--font-mono); }

a {
	color: var(--color-primary);
	text-decoration: none;
}
a:hover { text-decoration: underline; }

/* Typography */
h1, h2, h3, h4, h5, h6 { margin: 0 0 var(--space-3); font-weight: 600; }
h1 { font-size: clamp(1.8rem, 2.5vw, 2.4rem); }
h2 { font-size: clamp(1.5rem, 2.0vw, 2.0rem); }
h3 { font-size: clamp(1.25rem, 1.6vw, 1.6rem); }
p { margin: 0 0 var(--space-3); color: var(--color-text); }
.lead { font-size: 1.125rem; color: var(--color-muted); }

/* Layout helpers */
.container {
	max-width: 1100px;
	margin: 0 auto;
	padding: var(--space-5) var(--space-4);
}
.grid {
	display: grid;
	gap: var(--space-4);
}
.grid.cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.grid.cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.grid.cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }

/* Canvas area */
canvas {
	width: 100%;
	height: auto;
	background: var(--color-surface);
	border: 1px solid var(--color-border);
	border-radius: var(--radius);
	box-shadow: var(--shadow-sm);
}

/* Card component */
.card {
	background: var(--color-surface);
	border: 1px solid var(--color-border);
	border-radius: var(--radius);
	box-shadow: var(--shadow-sm);
}
.card__header { padding: var(--space-4); border-bottom: 1px solid var(--color-border); font-weight: 600; }
.card__body   { padding: var(--space-4); }
.card__footer { padding: var(--space-3) var(--space-4); border-top: 1px solid var(--color-border); }

/* Button styles */
.btn {
	--btn-bg: var(--color-surface);
	--btn-fg: var(--color-text);
	--btn-border: var(--color-border);

	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: 8px;
	padding: 10px 14px;
	border: 1px solid var(--btn-border);
	border-radius: var(--radius);
	background: var(--btn-bg);
	color: var(--btn-fg);
	font-weight: 600;
	letter-spacing: 0.01em;
	cursor: pointer;
	transition: background 160ms ease, color 160ms ease, border-color 160ms ease, box-shadow 160ms ease, transform 80ms ease;
}
.btn:hover { filter: brightness(0.98); }
.btn:active { transform: translateY(1px); }
.btn:focus { outline: none; box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-focus) 35%, transparent); }
.btn:disabled,
.btn[aria-disabled="true"] { opacity: 0.6; cursor: not-allowed; filter: none; }

/* Variants */
.btn--primary   { --btn-bg: var(--color-primary);   --btn-fg: #fff; --btn-border: color-mix(in srgb, var(--color-primary) 80%, #000 20%); }
.btn--secondary { --btn-bg: var(--color-secondary); --btn-fg: #073b3a; --btn-border: color-mix(in srgb, var(--color-secondary) 80%, #000 20%); }
.btn--success   { --btn-bg: var(--color-success);   --btn-fg: #062e0e; --btn-border: color-mix(in srgb, var(--color-success) 80%, #000 20%); }
.btn--warning   { --btn-bg: var(--color-warning);   --btn-fg: #3a2500; --btn-border: color-mix(in srgb, var(--color-warning) 80%, #000 20%); }
.btn--danger    { --btn-bg: var(--color-danger);    --btn-fg: #3a0000; --btn-border: color-mix(in srgb, var(--color-danger) 80%, #000 20%); }

/* Outline variant: keeps surface bg, colored text/border */
.btn--outline { --btn-bg: transparent; }
.btn--outline.btn--primary   { --btn-fg: var(--color-primary);   --btn-border: var(--color-primary); }
.btn--outline.btn--secondary { --btn-fg: var(--color-secondary); --btn-border: var(--color-secondary); }
.btn--outline.btn--success   { --btn-fg: var(--color-success);   --btn-border: var(--color-success); }
.btn--outline.btn--warning   { --btn-fg: var(--color-warning);   --btn-border: var(--color-warning); }
.btn--outline.btn--danger    { --btn-fg: var(--color-danger);    --btn-border: var(--color-danger); }

/* Ghost: minimal button without border */
.btn--ghost {
	--btn-bg: transparent;
	--btn-border: transparent;
	box-shadow: none;
}
.btn--ghost:hover { background: color-mix(in srgb, var(--color-text) 8%, transparent); }

/* Sizes */
.btn--sm { padding: 6px 10px; border-radius: var(--radius-sm); font-size: 0.875rem; }
.btn--lg { padding: 12px 18px; border-radius: var(--radius-lg); font-size: 1rem; }

/* Icon-only button */
.btn--icon {
	width: 36px;
	height: 36px;
	padding: 0;
}

/* Button group */
.btn-group { display: inline-flex; gap: 8px; }

/* Form controls */
label { display: inline-block; margin-bottom: var(--space-2); font-weight: 600; }
input[type="text"],
input[type="number"],
input[type="email"],
input[type="password"],
input[type="search"],
select,
textarea {
	width: 100%;
	padding: 10px 12px;
	border: 1px solid var(--color-border);
	border-radius: var(--radius);
	background: var(--color-surface);
	color: var(--color-text);
	transition: border-color 160ms ease, box-shadow 160ms ease;
}
input::placeholder, textarea::placeholder { color: color-mix(in srgb, var(--color-muted) 70%, transparent); }
input:focus, select:focus, textarea:focus {
	outline: none;
	border-color: var(--color-focus);
	box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-focus) 25%, transparent);
}
input[disabled], select[disabled], textarea[disabled] { opacity: 0.6; cursor: not-allowed; }

/* Tables */
.table { width: 100%; border-collapse: collapse; background: var(--color-surface); border-radius: var(--radius); overflow: hidden; }
.table caption { text-align: left; padding: var(--space-3) var(--space-4); color: var(--color-muted); }
.table thead th { text-align: left; padding: var(--space-3) var(--space-4); border-bottom: 1px solid var(--color-border); font-weight: 700; }
.table tbody td { padding: var(--space-3) var(--space-4); border-top: 1px solid var(--color-border); }
.table tbody tr:nth-child(odd) { background: var(--color-surface-alt); }

/* Alerts (optional) */
.alert { padding: var(--space-3) var(--space-4); border: 1px solid var(--color-border); border-radius: var(--radius); }
.alert--info    { background: color-mix(in srgb, var(--color-primary) 8%, var(--color-surface));   border-color: color-mix(in srgb, var(--color-primary) 40%, var(--color-border)); }
.alert--success { background: color-mix(in srgb, var(--color-success) 10%, var(--color-surface)); border-color: color-mix(in srgb, var(--color-success) 40%, var(--color-border)); }
.alert--warning { background: color-mix(in srgb, var(--color-warning) 12%, var(--color-surface)); border-color: color-mix(in srgb, var(--color-warning) 40%, var(--color-border)); }
.alert--danger  { background: color-mix(in srgb, var(--color-danger) 12%, var(--color-surface));  border-color: color-mix(in srgb, var(--color-danger) 40%, var(--color-border)); }

/* Utilities */
.hidden { display: none !important; }
.visually-hidden { position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
.muted { color: var(--color-muted); }
.divider { height: 1px; background: var(--color-border); border: 0; margin: var(--space-4) 0; }

/* Spacing utilities (limited set) */
.mt-2 { margin-top: var(--space-2); }
.mt-3 { margin-top: var(--space-3); }
.mt-4 { margin-top: var(--space-4); }
.mb-2 { margin-bottom: var(--space-2); }
.mb-3 { margin-bottom: var(--space-3); }
.mb-4 { margin-bottom: var(--space-4); }
.p-3  { padding: var(--space-3); }
.p-4  { padding: var(--space-4); }

